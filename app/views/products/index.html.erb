<h1>Index</h1>

<% if notice.present? %>
  <div class="notice notification-box">
    <p><%= notice %></p>
  </div>
<% end %>

<% if alert.present? %>
  <div class="alert notification-box">
    <p><%= alert %></p>
  </div>
<% end %>

<table class="table table-hover table-bordered">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Image</th>
      <th scope="col">Name</th>
      <th scope="col">Price</th>
      <th scope="col">Description</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @products.each do |product| %>
      <tr scope="row">
        <td><%= image_tag product.image, class: 'thumbnail' %></td>
        <td><%= product.name %></td>
        <td><%= product.price %></td>
        <td><%= product.description %></td>
        <td class="text-center">
          <%= link_to 'Edit', edit_product_path(product), class: 'btn btn-info' %>
          <%= link_to 'Delete', product_path(product), data: {confirm: 'Are you sure?', method: :delete}, class: 'btn btn-danger'%>
        </td>
        <td class="text-center">
          <%= link_to(set_fav_path(product), method: :patch, class: product.favourite ? 'active' : 'inactive') do %>
            <i class="fas fa-heart"></i>          
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<h2>New Product</h2>
<%= render 'form' %>
